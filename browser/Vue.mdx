import CodeBlock from '@theme/CodeBlock';

import mainTs from '!!raw-loader!../../../client/web_babylon_js/src/main.ts';
import useVircadiaContextTs from '!!raw-loader!../../../client/web_babylon_js/src/composables/useVircadiaContext.ts';
import useEnvironmentLoaderTs from '!!raw-loader!../../../client/web_babylon_js/src/composables/useEnvironmentLoader.ts';
import useAvatarEntityTs from '!!raw-loader!../../../client/web_babylon_js/src/composables/useAvatarEntity.ts';

# Vue

## Provider

### Provide (useVircadia)

First setup your `main.ts` file to use the Vircadia World SDK using the `useVircadia` provider composable. Here is an example:

<CodeBlock language="typescript" title="Example: /client/web_babylon_js/src/main.ts">
  {mainTs}
</CodeBlock>

This registers the client via:

```ts
app.provide(DEFAULT_VIRCADIA_INSTANCE_KEY, vircadiaWorld);
```

And optionally auto-connect after mounting:

```ts
vircadiaWorld.client.Utilities.Connection.connect();
```

### Inject (useVircadiaContext)

Then, in your components, you can inject the Vircadia instance using the `useVircadiaInstance` composable:

<CodeBlock language="typescript" title="Example: /client/web_babylon_js/src/composables/useVircadiaContext.ts">
  {useVircadiaContextTs}
</CodeBlock>

## Composable

### Asset (useVircadiaAsset)

In our client, we have a composable that manages the environment assets. It leverages the `useVircadiaAsset` composable:

<CodeBlock language="typescript" title="Example: /client/web_babylon_js/src/composables/useEnvironmentLoader.ts">
  {useEnvironmentLoaderTs}
</CodeBlock>

### Entity (useVircadiaEntity)

In our client, we have a composable that manages the avatar entity. It leverages the `useVircadiaEntity` composable:

<CodeBlock language="typescript" title="Example: /client/web_babylon_js/src/composables/useAvatarEntity.ts">
  {useAvatarEntityTs}
</CodeBlock>
